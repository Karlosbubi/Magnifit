778e4527-6c2a-42ee-a11f-ad5a5e17d55a
{"config":{"kind":"Program","targetFrameworkVersion":"DotNet9","optimizationLevel":"Debug","useAspNet":false,"namespaces":["System","System.Collections","System.Collections.Generic","System.Data","System.Diagnostics","System.IO","System.Linq","System.Linq.Expressions","System.Net.Http","System.Reflection","System.Text","System.Text.RegularExpressions","System.Threading","System.Threading.Tasks","System.Xml","System.Xml.Linq","System.Xml.XPath","System.Net"],"references":[]},"dataConnection":null}
#Code
var url = "https://www.dhbw-heidenheim.de";
var base_url = url.Replace("https://", "").Replace("http://", "").Split('/').FirstOrDefault();

var client = new HttpClient();
var response = await client.GetAsync(url);
var content_headers = response.Content.Headers;

var content_type = content_headers.FirstOrDefault(h => h.Key == "Content-Type").Value.FirstOrDefault();

if (content_type == null || !content_type.Contains("text/html")) {
    throw new Exception("Not a Web Page");
}

var content = await response.Content.ReadAsStringAsync();

//Console.WriteLine(content);
